<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <style>
        table {
          font-family: arial, sans-serif;
          border-collapse: collapse;
          width: 50%;
        }
        
        td, th {
          border: 3px solid black;
          text-align: left;
          padding: 8px;
        }
        
        tr{
        border: black;
          background-color: #dddddd;
        }
        body{
            padding: 0;
            margin: 0;
            background-image: url("<%= asset_path('city.jpg') %>");
            background-attachment: fixed;
            background-size: cover;
            font-family: 'Lato', sans-serif;
            display: block;
        }
        .button {
          background-color: white;
          color: black;
          border: none;
          padding: 10px 20px;
          text-align: center;
          text-decoration: none;
          display: inline-block;
          border-radius: 5px;
          font-size: 15px;
          margin: 4px 2px;
          transition-duration: 0.8s;
          border: 2px solid black;
      }
        .button:hover{
            background-color: rgb(6, 105, 39);
            color: black;
        }
 
    
        </style>

</head>
<body >
  <%= render :template => "header.html.erb"%>
    
<p id="notice"><%= notice %></p>
<div class="parte1" style="text-align: center;">
    <h1><strong>Comunas</strong></h1>
    <table style="border:1px solid black;margin-left:auto;margin-right:auto;">
        <thead>
            <tr>
                <th style="text-align: center;">Nombre</th>
                <th style="text-align: center;">Acciones</th>
            </tr>
        </thead>

    <tbody>
        <% @comunas.each do |comuna|%>
        <tr>
            <td style="text-align: center;"><%= comuna.nombre%></td>
            <td style="text-align: center;"><%= link_to 'Ver detalles', comuna_path(comuna.id)%></td>
        </tr>
        <%end%>
    </tbody>
    </table>
    <br>

    <%if current_user.tipo == "Administrador"%>
      <%= button_to "Agregar comuna", new_comuna_path, :method => :get, :class => "button"%>
    <%end%>

</div>
<div>

</div>
</body>>

<!-- 
key = AIzaSyAIRxrV5t6q6balkKBszcXZVl-tgmiajw4
hay que tener latitud y longitud para el restaurant
o creamos dos tablas y al momento de crear el restaurant lo ingresamos
o utilizamos una gema geocoder despues bundle install aqui sale como hacerlo https://www.sitepoint.com/geocoder-display-maps-and-find-places-in-rails/


// Initialize and add the map
function initMap() {
  // The location of Uluru
  var uluru = {lat: <%= @restaurant.latitud %>, lng: <%= @restaurant.longitud %>};
  // The map, centered at Uluru

  // The map, centered at Uluru
  var map = new google.maps.Map(
      document.getElementById('map'), {zoom: 4, center: uluru});
  // The marker, positioned at Uluru
  var marker = new google.maps.Marker({position: uluru, map: map});
}
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBRMNJRzgFAlgtKbVxJPm8_Hbz9HmNLgUU&callback=initMap">
-->